---
title: "MPDM Guest Lecture"
author: "Seb Bate"
format: 
  revealjs:
    incremental: true
    self-contained: false
editor: visual
output-file: index.html
bibliography: references.bib
csl: csl/harvard-cite-them-right.csl
---

# Intro

![](images/clipboard-3440628929.png){width="40%"}

## Who am I?

-   Medical Statistician at Manchester hospitals
-   Data visualisation hobbyist

## What are we doing today?

1.  Menti

2.  Guess the data

3.  Infographics

4.  Simpson's paradox

----

![](images/clipboard-3143122643.jpeg)

## Warm up activity

::: incremental
-   Pick a digital touchpoint that you have hit in the last 24h

-   Now think about the hundreds, thousands, millions of hits that your touchpoint has received

-   What data has been collected?

-   What data can be analysed and how would you analyse it?

-   What actions could you take as a marketeer?

-   Some bits of data are better quality than others

-   Feel free to work quietly in small groups
:::

## E.g. Buying a coffee on the Caffe Nero app {.smaller}

::: incremental
-   Time/date
-   Location
-   Order
-   Addons
-   Payment method
-   Vouchers used
-   Click-and-collect or pay at counter
-   Sit in or takeaway
-   Cart abandonment
:::

## Actions that can be taken?

::: incremental
-   Giving vouchers for lapsed customers
-   More prominent up sell if I never get add-ons
-   Push notification if there is a quieter shop nearby
:::

# Guess the data

![](images/clipboard-3491770170.png)

------------------------------------------------------------------------

![](images/clipboard-3663099882.png)

------------------------------------------------------------------------

## Some best practice

![](images/clipboard-3077795585.png)

------------------------------------------------------------------------

![](images/clipboard-1061651444.png)

# Infographics {.scrollable .smaller}

::::: columns
::: {.column width="50%"}
-   Infographics are more editorialized plots (or combination of plots), often featuring more text and selective labels.
    -   Some are more data driven than others
-   Most people donâ€™t like being told what to think and like to draw their own conclusion
-   But this is where you are able to tell the story and at the end make a call to action
-   Always be critical
:::

::: {.column width="50%"}
![](images/clipboard-4278646531.png){width="60%"}
:::
:::::

------------------------------------------------------------------------

![](images/clipboard-4253895666.png)

# Some interesting data

## I think I have seen something like this before? {.scrollable}

You may have seen Anscombe's Quartet yesterday

![Anscombe's Quartet [@anscombe1973] image from Wiki [@AnscombeWiki]](img/AQ.png)

------------------------------------------------------------------------

## But we can actually extend this idea to a much larger dataset {.scrollable}

```{r, echo=FALSE, message=FALSE, fig.height=12, fig.width=8, out.height="1500px"}
library(datasauRus)
library(tidyverse)

dataset_id <- c(
  "dino", "slant_down", "slant_up", "h_lines", "star", "away",
  "v_lines", "high_lines", "wide_lines", "bullseye",
  "x_shape", "circle", "dots"
)

datasaurus_dozen$dataset <- factor(datasaurus_dozen$dataset, levels = dataset_id)

datasaurus_dozen %>% 
  filter(dataset %in% dataset_id) %>% 
  ggplot(aes(x = x, y = y, colour = dataset)) +
  geom_point() +
  theme_light() +
  theme(
    legend.position = "none",
    strip.background = element_blank(),
    strip.text = element_blank()
  ) +
  labs(x = "Age", y = "Sales") +
  facet_wrap(~dataset, ncol = 2)
```

------------------------------------------------------------------------

In all of these they have the same properties

::: incrementatal
-   N: 142
-   Mean Age: 54.26
-   Mean Sales: 47.83
-   SD Age: 16.76
-   SD Sales: 26.93
-   Correlation: -0.06
-   Adapted from @gillespie
:::

# Simpson's Paradox

![](img/Homer_Simpson_2006.png){width="50%"}

## What do we notice here?

```{r, message=FALSE,echo=FALSE}

datasaurus_dozen %>% 
  filter(dataset %in% dataset_id[2:3]) %>% 
  ggplot(aes(x = x, y = y, colour = dataset)) +
  geom_point() +
  geom_smooth(method = "lm", se=F)+
  theme_light() +
  theme(legend.position = "none",strip.background = element_blank(), strip.text = element_blank()) +
  labs(x="Age",y="Sales")+
  facet_wrap(~dataset, ncol = 2)
```

These are dataset 2 and 3 from the previous slide

## But what happens if we now add labels to the data?

Dataset 2

```{r, message=FALSE,echo=FALSE}
dataset2a=read.csv("data/activity2/dataset2a.csv") %>% 
  merge(tribble(~"label", ~"label2",
               "Gen A", "Africa",
               "Gen Z", "Asia",
               "Millennial", "S America",
               "Gen X", "Europe",
               "Boomer", "N America")) %>% 
  select("Age"=x,
         "Sales"=y,
         "Region"=label2) 
dataset2a$Region=factor(dataset2a$Region, levels=c("Africa", "Asia", "S America", "Europe","N America"))
cat("Our dataset\n")
dataset2a %>%
  sample_n(10)

levels(dataset2a$Region)


```

------------------------------------------------------------------------

```{r, message=FALSE,echo=FALSE}
a2=dataset2a %>% 
  ggplot(aes(x = Age, y = Sales, colour = Region)) +
  geom_point() +
  # geom_smooth(method = "lm", se=F)+
  theme_light()+
  labs(colour="Region")
a2

```

------------------------------------------------------------------------

```{r, message=FALSE,echo=FALSE}
a2+
  geom_smooth(method = "lm", se=F)

```

------------------------------------------------------------------------

and similarly for dataset 3

```{r, message=FALSE,echo=FALSE}
dataset3a=read.csv("data/activity2/dataset3a.csv") %>% 
  merge(tribble(~"label", ~"label2",
               "Gen A", "Africa",
               "Gen Z", "Asia",
               "Millennial", "S America",
               "Gen X", "Europe",
               "Boomer", "N America")) %>% 
  select("Age"=x,
         "Sales"=y,
         "Region"=label2) 
dataset3a$Region=factor(dataset3a$Region, levels=c("Africa", "Asia", "S America", "Europe","N America"))

a3=dataset3a %>% 
  ggplot(aes(x = Age, y = Sales, colour = Region)) +
  geom_point() +
  theme_bw()+
  labs(colour="Region")
a3

```

------------------------------------------------------------------------

and similarly for dataset 3

```{r, message=FALSE,echo=FALSE}
a3+geom_smooth(method="lm", se=F)


```

------------------------------------------------------------------------

::::: columns
::: {.column width="40%"}
![](img/Edward_H._Simpson.jpg)
:::

::: {.column width="60%"}
-   This is what we call Simpson's Paradox [@simpson1951; @kievit2013].
-   It is when the direction of the correlation changes when we look at each subgroup
:::
:::::

------------------------------------------------------------------------

![](img/Simpsons_paradox_-_animation.gif)

# Crimes against data: a quiz

------------------------------------------------------------------------

![](images/clipboard-3165625605.png){width="70%"}

::: fragment
Make sure that your inputs make sense
:::

------------------------------------------------------------------------

![](images/clipboard-2281188523.png){width="20%"}

::: fragment
Don't truncate your y-axis on a bar chart
:::

------------------------------------------------------------------------

![](images/clipboard-4280499671.png){width="70%"}

::: fragment
Make your bars proportional
:::

------------------------------------------------------------------------

![](images/clipboard-4077368076.png)

::: fragment
Good should be at the top!!
:::

------------------------------------------------------------------------

![](images/clipboard-3101577651.png)

::: fragment
If there is a sensible colour available, use it and use consistently
:::

------------------------------------------------------------------------

![](images/clipboard-43354252.png)

::: fragment
Are your samples representative?
:::

------------------------------------------------------------------------

![](images/clipboard-476200296.png)

::: fragment
This is just cursed
:::

# Thank you

Any questions?

# References
